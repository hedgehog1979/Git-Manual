
# Инструкция по работе с Git, VSC, github.org и настольной версией GitHub Desktop

## Содержание:
1. Установка ПО
2. Приветствие Git
3. Настройка учетной записи GitHub
4. Создание репозиториев
5. Работа с отслеживаемыми файлами
6. Передача изменений на удаленные копии
7. Ссылки


## 1. Установка ПО
Для начала работы требуется минимально установить для компьютера на Windows пакет Visual Studio Code

https://code.visualstudio.com/

VSC позволяет создавать локальные копии (?для локальной сети?) репозиториев и файлов и отслеживает работу в них. Для создания удаленных ресурсов предлагается исопльзовать наиболее популярный сервис от Microsoft - GitHub, - на котором можно также найти открытый код от всех зарегнистрированных пользователей. У сервиса есть настольная версия.

https://desktop.github.com/

Функционал ПО не только позоволяет в один клик без использования консольных команд создавать репозитории, выгружать и загружать контент из/в VSC, но и в реальном времени редактировать содержание отслеживаемых файлов.

![Screen](C:\Users\User\Downloads\1.png)

## 2. Приветствие Git

После установки необходимо «представиться» системе контроля версий. Это нужно сделать всего один раз, и git запомнит вас. Для этого нужно ввести в терминале 2 команды:
git config --global user.name «Ваше имя англ буквами»
git config --global user.email ваша_почта@domain.com

На данном этапе можно начинать работу с использованием VSC и встроенного терминала.

## 3. Настройка учетной записи GitHub

На сайте github.org запрашиваем регистрацию новой учетной записи, вводим имя (проверка на уникальность) и адрес почты для отправки launch code, который потребуется скормить диалоговому окну на экране регистрации. После этого в разделе "Учетная запись (справа сверху)- Настройки - Пароли и аутентификация" вводим свой пароль и сохраняем.

Для работы с использованием GitHub Desktop (GHD) в экране приветствия вводим имя пользователя и пароль, принимаем условия, настраиваем рабочую папку и взаимодействие между локальной и удаленной частями программы. 

На главной странице GH [GiHub] [https://github.com/] после входа в учетную запись справа будут отражены ранее созданные репозитории.  Там же расположены поля глобального поиска и поиска доступных репозиториев. 

## 4. Создание репозиториев

Создание локального репозитория GHD осуществляется на стартовом экране нажатим соответствующей кнопки, там же можно выгрузить локальный репозитарий в облако или забрать оттуда другой. Там же можно запустить тренинг использования ПО.

При использовании терминала, встроенного в VSC (Ctrl+`), создание локального репозитория осуществляется командой **git init**.

## 5. Работа с отслеживаемыми файлами

Проверить текущий статус репозитория можно командой **git status**

Добавление файлов в локальный репозиторий осуществляется командой **git add .**
или **git add "имя файла.расширение"**

Подтверждение внесения изменений (после сохранения Ctrl+S) и отправка их в репозиторий осуществляется камандой __git commit -m "Your short summary about the commit"__

Также можно командой **git commit** открыть текстовый редактор в терминале для написания полного сообщения коммита. Оно может состоять из нескольких строк текста, в котором подробно характеризуются изменения, внесённые в репозиторий.

### Только для локальных коммитов!!!
Внести изменения в последний коммит можно параметром commit с флагом --amend. Например, внесли изменения в ряд файлов, и поняли, что допустили ошибку в **сообщении** коммита. Можно воспользоваться этой командой, чтобы отредактировать сообщение коммита, не изменяя его снимок.

__git commit --amend -m "Updated message for the previous commit"__

Просматривать последние коммиты, внесённые в репозиторий, можно с помощью **git log**. Добавление параметра **-p** покажет изменения, внесённые в каждый файл коммита.

Можно просматривать список изменений, внесённых в репозиторий, используя  **git diff**. По умолчанию отображаются только изменения, не подготовленные для фиксации.

Восстановить файлы рабочего дерева, не подготовленные к коммиту, можно командой **git checkout "имя файла.расширение"**. Для проведения операции требуется указать путь к файлу.

Восстановить подготовленный к коммиту файл рабочего дерева можно командой **git  reset "имя файла.расширение"**. Потребуется указать путь к файлу, чтобы убрать его из области подготовленных файлов. 

Если нужно выполнить это действие для всех подготовленных файлов, то **git reset HEAD**. HEAD - это присваиваемый Гитом признак активного состояния: ветки или конкретного коммита. Команда checkout присваивает данный признак.

Откатить последний коммит можно с помощью **git revert**. Создастся и добавится к истории текущей ветки новый коммит, содержащий обратные преобразования относительно предыдущего. Команда **git revert** отменяет изменения, записанные только конкретным коммитом. Команда **git reset** всегда берёт за точку отсчёта текущий коммит. К примеру, если нужно отменить изменения из более старого коммита с помощью git reset, придётся удалить все коммиты, поданные после целевого, а затем выполнить их повторно.

#### **!!!Относительные ссылки**

Перемащение по коммитам возможно не только указанием хэша коммита, но и истории коммитов. Например, на предыдущий комиит **git checkout [branch_name]^** или 3 коммита назад **git checkout [branch_name]~3**.

Процесс контроля версий поощряет создание новых веток в каждом репозитории. Даже множества отдельных веток для каждой задачи. Это обеспечивает возможность корректной одновременной работы с параллельными задачами для исполнителей. Создание ветки осуществляется командой __git branch [имя_ветки]__. Перемещение ежду активными ветками осуществляется командой **git checkout [branch_name]**. 

Подсказка: можно одновременно создать новую ветку и переключиться на нее - **git checkout -b [branch_name]**.

Команда git commit всегда записывает состояние активной ветки. После окончания работы сохраниить состояние в сновную ветку можно запустив **из нее** команду **git merge [branch_name]**, что вольет в нее изменения и ветки branch_name.

Команда **git rebase [branch_name]** позволяет перенести изменения из соседней ветки так, как-будто они делались последовательно с активной веткой, а не параллельно. Коммиты из branch_name будут учтены как последние в активной ветке. Требуется обновить активную ветку командой **git rebase [main_branch]**.

При работе в Git ckt


## 6. Передача изменений на удаленные копии 

Удаленные репозитарии позволяют производить совместную работу над проектом/файлом за переделами локального компьютера и/или локального сервера. Создание удаленного репозитария возможно несколькими способами:
1. из терминала VSC (или cmd)
2. на сайте github.org
3. из приложения GHD

**При работе в приложении GHD все максимально упрощено, но ошибки не всегда отображаются подробно или не отображаются вообще, и приложение превращается в "кирпич"**

1. Из терминала

Для создания удаленного репозитория из **локального** используется команда **git remote add <shortname> <url>** (формат адреса для репозитория test на GitHub - https://github.com/hedgehog1979/test.git). Теперь становится возможной дальнейшая работа с удаленным репозиторием с указанием его сокращенного наименования (shorname). Просмотреть имеющиеся репозитории привязанные к локальной папке можно командой **git remote -v** (-v показывает адреса url).

Когда репозиторий создан на удаленном сервере и, предположим, с ним поработал кто-то еще, представляется возможным ознакомиться с изменениями без их принятия посредством команды **git fetch [remote_repository_name]**. Связываемся с указанным удалённым проектом и забираем все те данные проекта, которых у нас ещё нет. Должны появиться ссылки на все ветки удалённого репозитория, которые можно просмотреть до слияния (merge на локальной машине). Одновременное слияние производится командой **git pull [remote_repository_name]**.

Отправка изменений из локальной копии в удаленный репозиторий (сначала локальный commit!!!) осуществляется посредством **git push <remote_repository_name> <branch_name>**. Тогда же появляется возможность создать pull request для родительского репозитория на GitHub, который администрируется другим человеком.

Переименование удаленного репозитория осуществляется командой **git remote rename [remote_repository_name_old] [remote_repository_name_new]**. Потереть удаленный репозиторий можно командой **git remote remove [remote_repository_name]** (GitHub может запросить подтверждение).

Любой репозиторий, имеющийся под учеткой на GitHub, можно стянуть на локальную машину в актуальном состоянии командой **git clone <url>**. Командой создается локальный "клон", с которым можно работать без ограничений. Все изменения отправляются на GitHub через **git push <remote_repository_name>**. Без ограничений работать с клонированным репозиторием можети только разработчик, которому предоставлены права администратора или совместной работы (collaborator).

В иных случаях сначала потребуется создать удаленную копию репозитория, для которого права не предоставлены, непосредственно на сайте GitHub.

2. на сайте github.org

После регистрации на сайте станет возможным создание удаленных репозиториев под своей учеткой (кнопка "Add new repository" на стартовой странице, из списка проектов и из профиля). Также, только только на сайте можно создать копию репозитория, который нам не принадлежит. Необходимо найти интересующий репозиторий и нажать кнопку "Fork" в верхнем правом углу страницы. Создастся удаленная копия удаленного чужого репозитория, который можно стянуть на локальную машину командой **git clone <url>**, создать в ней отдельную новую ветку и ее пв процессе работы подгружать командой **git push <remote_repository_name> <branch_name>**. 

Для внесения изменений в родительский репозиторий требуется направить запрос его администратору нажатием кнопки "Pull request" на сайте GitHub на странице "дочернего" репозитория. Решение о принтии или отклонении изменений принимает владелец исходного репозитория.

3. из приложения GHD

Интерфейс программ GitHub Desktop представляет собой несколько упрощенный интерфейс сайта, на котором программа самостоятельно предлагает типовые действия для активного репозитория. Обычно клонирование, получение и отправка изменений (в т.ч. pull request) осуществляются нжатием единственной активной "зеленой" кнопкой. Также, интерфейс программы предоставляет возможности редактирования кода и функцию терминала для быстрого внесения и мгновенной отправки изменений.

Важно часто синхронизировать состояние версий на локальной и удаленной машинах нажатием кнопки "Fetch", которая отрабатывает команды fetch и push буз введения команд в терминале.

## 7. Ссылки и материалы 

Инструкция по работе с Git приведена по адресу 

[Pro GIT][https://git-scm.com/book/en/v2]


